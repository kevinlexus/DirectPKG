create table SCOTT.T_USER
(
  id         NUMBER not null,
  cd         VARCHAR2(32) not null,
  name       VARCHAR2(32) default '32',
  npp        NUMBER default 0,
  parent_id  NUMBER,
  v          NUMBER default 1,
  date_creat DATE default CURRENT_DATE,
  visa       NUMBER default 1,
  lic        VARCHAR2(300),
  licp       VARCHAR2(300),
  hotora_sql VARCHAR2(1000),
  cnt_enters NUMBER
)
tablespace USERS
  pctfree 10
  initrans 1
  maxtrans 255
  storage
  (
    initial 64K
    next 1M
    minextents 1
    maxextents unlimited
  );
comment on table SCOTT.T_USER
  is 'FIN_SEQ. справочник ПОЛЬЗОВАТЕЛЬ';
comment on column SCOTT.T_USER.cd
  is 'Код - независящий от ID';
comment on column SCOTT.T_USER.name
  is 'наименование полное';
comment on column SCOTT.T_USER.npp
  is 'номер по порядку - для сортировки пользователя';
comment on column SCOTT.T_USER.parent_id
  is 'ссылка на вышестоящего пользователя';
comment on column SCOTT.T_USER.v
  is 'вкл/выкл.  включено, если = 1';
comment on column SCOTT.T_USER.date_creat
  is 'дата создания записи';
comment on column SCOTT.T_USER.visa
  is 'скрыть запись из просмотра и обработки, если = 0 . для блокирования <чужих>пользователей получаемых из ORACLE';
comment on column SCOTT.T_USER.lic
  is 'строки файла лицензии для пользователя';
comment on column SCOTT.T_USER.licp
  is 'psw для LIC';
comment on column SCOTT.T_USER.hotora_sql
  is 'SQL-код создания пользователя на HOTORA';
comment on column SCOTT.T_USER.cnt_enters
  is 'Кол-во единовременных входов содного компа';
alter table SCOTT.T_USER
  add constraint T_USER_PK primary key (ID)
  using index 
  tablespace USERS
  pctfree 10
  initrans 2
  maxtrans 255
  storage
  (
    initial 64K
    next 1M
    minextents 1
    maxextents unlimited
  );
alter table SCOTT.T_USER
  add constraint T_USER_UK_CD unique (CD)
  using index 
  tablespace USERS
  pctfree 10
  initrans 2
  maxtrans 255
  storage
  (
    initial 64K
    next 1M
    minextents 1
    maxextents unlimited
  );
alter table SCOTT.T_USER
  add constraint T_USER_PARID foreign key (PARENT_ID)
  references SCOTT.T_USER (ID) on delete cascade;

